

# 放大器定义、分类和选择使用

## 放大器定义

**电学中能够实现信号、功率放大的器件，称为放大器，英文为Amplifier。一放大器为核心，能够实现放大功能的电路组合，称为放大电路。**

放大器是一个器件，device；放大电路是这些器件加上电容电阻、线路板或者导线焊接到仪器，是一个组合。

## 放大器分类

**全部放大器被分为三种：晶体管放大器、运算放大器和功能放大器**

*还存在电子管放大器*

![image-20220529143933629](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529143933629.png)





### 晶体管

晶体管分为两类：双极型晶体管（Bipolar Junction Transisitor-BJT,分为NPN型，PNP型）、单极型晶体管（也称场效应管，Field Effect Transistor-FET)。其中场效应管还分为JFET和MOSFET，就是结型管和金属氧化物管，它们都有N沟道和P沟道之分。从符号看，晶体管可以化成八种，双极型2种，单极型6种。

所谓**双极型晶体管**，是指这种集体管内部既有电子运动产生电流，也有空穴运动形成电流，一个多，称多子，一个少，称少子，两者的运动方向相反，飞向两个不同的“极”。

所谓**单极型晶体管**中，只有空穴或者只有电子运动形成电流，只有多子存在，飞向单一的极。

**晶体管**可以组成常见的共射（源）极，共基（栅）极，共集电（漏）放大电路。以及典型多变的多级放大电路。

*复杂的电路限制了这种放大电路的推广*

### 运算放大器

运算放大器又称运放，其实就是一个差分输入、多级、直接耦合、高增益放大电路（通常大于10000倍），用集成电路工艺生产在一个单芯片集成电路中。它有两个差分输入端，一个或者两个输出端，两个供电电源端。

![image-20220529142321886](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529142321886.png)

**开环电路一般不用，因为开环增益太大**

![image-20220529142755051](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529142755051.png)

![image-20220529144237023](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529144237023.png)

A~uf~称为闭环增益。当A~uo~很大时：

![image-20220529144710244](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529144710244.png)

**”虚短“不是运放本身的特性，而是深度负反馈导致的必然结果**

A~uo~越大，虚短现象越明显。

- 闭环电压增益约为1+R~F~/R~2~
- 输入阻抗等于R~1~
- 输出阻抗等于R~0~

#### 全差分运放

全差分运放有差分输入脚，差分输出脚。此外还有一个输入脚

![image-20220529145931739](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529145931739.png)



### 功能放大器

![image-20220529153537144](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529153537144.png)



进一步集成的放大器。

#### 仪表放大器

高阻差分输入，输出有单端的，也有差分的，增益一般可以用一个外部电阻，由用户选择设定。常用于仪器仪表的最前端，和传感器直接接触。

仪表放大器内部通常具有2个或者更多的运放，最典型的是3运放结构。其它的还有2运放结构、电流镜结构、飞电容结构等。

仪表放大器具有极高的共模抑制比——对信号的差值极为敏感而对共模量不敏感，还有极高的输入阻抗。但是它的输入管脚有工作限制：第一不得悬空，第二不能承载太高的电压。

![image-20220529154452444](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529154452444.png)

#### 差动放大器

有一个运放和若干个激光校准电阻对集成在一起的电路，而其中的电阻值选择均以容易形成差动放大器为目的。

![image-20220529155408265](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529155408265.png)

程控增益放大器

放大器的增益可以由用户通过数字信号实施设定，因此叫Programmable，可程控。通常缩写为PGA或者DVGA。

程控增益放大器的增益设定，有多个管脚配合设定2进制增益的，也有通过数字通信接口给放大器写入命令的。

主要用于被测信号幅度变化较大且不可事先预知的情况：程控增益放大器的输出经过ADC进入处理器中，处理器分析所得数据，如果发现信号变化范围太小，可以发出指令，用程序增大PGA的增益，如果信号变化范围过大，可以用程序实现增益的所见，最终使得放大器处于随时可调的最佳增益状态。

![image-20220529160337756](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529160337756.png)



#### 压控增益放大器

放大器的增益由外部施加的电压V~G~连续控制。VGA。由dB线性和V/V线性两种。有的是正控制——V~G~越大，增益越大；有的是负控制。

其中一个主要应用是自动增益控制AGC。有些芯片为此还内嵌了输出有效值检测环节，以直流电压表征输出幅度，此电压如果回送到负控制的压控增益放大器的V~G~脚，可以方便实现AGC功能——输入幅度大范围改变时，输出幅度几乎不变。录音笔中一般都具备这种功能：距离说话者无论远近，录下的声音大小几乎是一致的。

**db线性**：以dB为单位的放大器增益，与控制电压V~G~成线性关系。

**V/V线性**：电压增益，与控制电压V~G~成线性关系。

![image-20220529160937105](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529160937105.png)

#### 隔离放大器

实现放大器输入信号与输出信号之间的电气隔离。实现方法有三类：变压器型、光电耦合器型、电容器型。ADI的产品主要是变压器型。

![image-20220529161109009](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529161109009.png)

## 选择放大器的原则

定义晶体管放大器为最低级，功能放大器为最高级。

如果要实现某个放大电路，如果高级放大器能够实现，那么低级放大器也一定能够实现。

可以遵循：

- 没有一成不变的原则，所有选择都是因时而异、因事而异。
- 一般情况下，多数人选择的，或者大的芯片生产商提供的选择，是正确的。收集各大芯片生产商的应用手册、实验室电路，以及数据手册中给出的应用实例。
- 一般情况下，如果能够采用合适的高级放大器，就不要用低级放大器。

# 运算放大器的关键指标详解

## 输入失调电压（Offset Voltage,Vos)

**在运放开环使用时，加载在两个输入端之间的直流电压使得放大器直流输出电压为0.也可定义为当运放接成跟随器且正输入端接地时，输出存在的非0电压。**

**优劣范围：1uV以下属于极优秀，100uV以下属于较好的，最大的有几十mV。**

任何一个放大器，无论开环连接或者反馈连接，当两个输入端都接地时，理论上输出应该为0，但运放内部两输入支路无法做到完全平衡，导致输出永远不会是0.此时保持放大器反向输入端不变，在同相输入端施加一个可调的直流电压，调节它知道输出直流电压变为0V，此时正输入端施加的电压的负值即为输入失调电压，用VOS表示。多数情况下，输入失调电压厂家会以绝对值表示。

任何一个实际运放都可理解为同相端串联了一个VOS，然后进入一个理想运放。

![image-20220529172115954](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529172115954.png)

当一个放大器被设计成A~F~倍闭环电压增益（同相输入放大增益，也称噪声增益时），如果放大器的失调电压为V~OS~，则放大电路0输入时，输出存在一个等于A~F~B~OS~的直流电平，此输出被称为输出失调电压。闭环增益越大，则**输出失调电压**也越大。

**对策**：如果被测信号包含直流量且关心这个直流量，就必须选择V~OS~远小于被测直流量的放大器，或者通过运放的调零措施消除这个影响。如果仅关心被测信号中的交变成分，可以在输入端和输出端增加交流耦合电路，将其消除。

调零方法：有些运放有两个条令段，按照数据手册提供的方法接电位器调零即可。对没有调零端的运放，可采用外部的输出调零或者输入调零，有标准电路可以参考。

## 失调电压漂移（Offset Voltage Drift)

**当温度变化、时间连续、供电电压等自变量变化时，输入失调电压会发生变化。输入失调电压随自变量变化的比值，称为失调电压漂移**

有三种漂移量存在：

- 输入失调电压变化相对于温度变化的比值。是指定温度范围内的平均值，以uV/°C为单位。用符号ΔV~OS~/ΔT或者dV~OS~/dT表示。
- 相对于时间的比值，以uV/MO为单位，含义是每月变化多少微伏
- 相对于电源电压变化的比值，以uV/V为单位，含义是调好的放大器，当电源电压发生1V变化，会引起失调电压的变化。（此数值在很多放大器数据手册中没有体现）

*优劣范围：0.002uV/°C到即使uV/°C。*

失调电压漂移量，与数据手册上标注的失调电压（或称之为初始失调电压）本身有密切关系。初始失调电压小的，其漂移量也小。从多种放大器指标看，有以下规律：

- 温度变化40\~500度可能带来的失调电压变化，等同于初始失调电压。
- 10\~100个月带来的失调电压变化，等同于初始失调电压。

衡量失调电压漂移量，最好能和初始失调电压进行对比。指标偏移量等效温度T~OD~，偏移量等效时间，表示了带来一个新的失调电压需要变化的时间和温度值。

因为不能被调零端调零，即便调零完成，它还会带来新的失调。在高精度、高稳定性要求的场合，选择漂移系数较小的放大器，比失调电压大小更为重要。

- 选择高稳定性，也就是漂移系数较小的运放。
- 有些运放具有自归零技术，它能不断地测量失调并在处理信号过程中把当前失调电压减掉。这就可以一直新的失调。但是这种运放内部都有高频地切换动作，会产生该频率噪声。

## 输入偏置电流（Input bias current，I~B~）

**当输出维持在规定的电平时，两个输入端流进电流的平均值**

**优劣范围：60fA\~100uA。数量级相差巨大，这取决于运放输入端结构，FET输入的会很小。**

运放的两个输入端并不是绝对高阻，该指标主要描述输入端刘瑾电流的数量级。

![image-20220529211616196](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529211616196.png)

- 当用放大器接成跨阻放大测量外部微小电流时，过大的输入偏置电流会分掉被测电流，使测量失准。
- 当放大器输入端通过一个电阻接地时，这个电流将会在电阻上产生不期望的输入电压。

为了避免输入偏置电流对放大电路的影响，最主要的措施是选择I~B~较小的放大器。有很多FET输入运放可以实现这个要求。

但是，高速运放且I~B~较小的运放比较少。

## 输入失调电流（Input offset current，I~OS~)

**当维持在规定的电平时，两个输入端流进电流的差值**

**优劣范围：20fA~100uA。数量级相差巨大，取决于运放输入端结构，FET输入的会很小**

数值的大小一般和芯片的偏置电流相当。

失调电流的存在，说明两个输入端客观存在的电流有差异，后面讲要所述的，用外部电阻是实现匹配抵消偏置电流影响的措施，在此就失效了。

## 关于失调和偏置的总结

涉及到三个关键指标，输入电压V~OS~、输入偏置电流I~B~、输入失调电流I~OS~。理论上都应该为0，实际上都不为0，影响放大器的正常工作。

- 在放大器0输入电压时，导致输出不为0，这来自输入失调电压，以及某些情况下偏置电流和失调电流。
- 在电流检测时，影响检测精度，这主要来自于输入偏置电流。

### 输入时怎么计算放大器的实际输出

放大电路的输入电压为0时，导致输出不为0的原因一般有三个，输入失调电压，输入偏置电流，输入失调电流。

![image-20220529213249205](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529213249205.png)

![image-20220529214416892](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529214416892.png)



G~N~称为噪声增益，在噪声计算、输出失调计算中应用很广泛。

![image-20220529215714290](https://osmanmd.oss-cn-chengdu.aliyuncs.com/image-20220529215714290.png)





































